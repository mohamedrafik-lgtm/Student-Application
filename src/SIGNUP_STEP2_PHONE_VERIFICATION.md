# ุชุญุฏูุซ ุงูุฎุทูุฉ ุงูุซุงููุฉ - ุงูุชุญูู ูู ุฑูู ุงููุงุชู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุญุฏูุซ ุงูุฎุทูุฉ ุงูุซุงููุฉ ูู ุตูุญุฉ ุฅูุดุงุก ุงูุญุณุงุจ ูุงุณุชุฎุฏุงู endpoint ุงูุชุญูู ูู ุฑูู ุงููุงุชูุ ููุง ูุถูู ุฃู ุฑูู ุงููุงุชู ูุณุฌู ูู ุงููุธุงู ูุจู ุงููุชุงุจุนุฉ.

## โจ ุงูููุฒุงุช ุงููููุฌุฒุฉ

### ๐ง **ุชูุงูู API ุงูุฌุฏูุฏ**
- **Endpoint**: `/api/trainee-auth/verify-phone`
- **Method**: POST
- **Data**: `{ nationalId: string, phone: string }`
- **Response**: `{ success: boolean, message: string }`

### ๐จ **ุงูุชุญุณููุงุช ุนูู ุงููุงุฌูุฉ**
- **ุฒุฑ ุงูุชุญูู** ุจุฏูุงู ูู "ุงูุชุงูู" ูู ุงูุฎุทูุฉ ุงูุซุงููุฉ
- **ูุคุดุฑ ุงูุชุญููู** ุฃุซูุงุก ุงูุชุญูู
- **ุญุงูุฉ ุงูุชุญูู** ูุน ุฑุณุงูุฉ ุงููุฌุงุญ
- **ุฑุณุงุฆู ุชูุงุนููุฉ** ุญุณุจ ูุชูุฌุฉ ุงูุชุญูู

### ๐ฑ **ุงูููููุงุช ุงููุญุฏุซุฉ**

#### **1. ุงูุฎุทูุฉ ุงูุซุงููุฉ - ุงูุชุญูู ูู ุฑูู ุงููุงุชู**
- **ุงูุชุญูู ุงูุชููุงุฆู** ุนูุฏ ุงูุถุบุท ุนูู "ุงูุชุญูู ูู ุฑูู ุงููุงุชู"
- **ุนุฑุถ ุญุงูุฉ ุงูุชุญูู** ุจุนุฏ ุงูุชุญูู ุงููุงุฌุญ
- **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก** ูุน ุฑุณุงุฆู ูุงุถุญุฉ
- **ุงูุชุญูู ูู ุตุญุฉ ุงูุชูุณูู** ูุญููุงู

#### **2. ูุนุงูุฌุฉ ุงูุงุณุชุฌุงุจุงุช**
- **ูุฌุงุญ ุงูุชุญูู**: ุงููุชุงุจุนุฉ ููุฎุทูุฉ ุงูุชุงููุฉ
- **ูุดู ุงูุชุญูู**: ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ
- **ุฃุฎุทุงุก ุงูุดุจูุฉ**: ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก

## ๐๏ธ **ุงููููู ุงูุชููู**

### **ุงููููุงุช ุงูููุญุฏุซุฉ:**

#### **1. Types (src/types/auth.ts)**
```typescript
// ุงุณุชุฌุงุจุฉ ุงูุชุญูู ูู ุฑูู ุงููุงุชู - ุญุงูุฉ ุงููุฌุงุญ
export interface VerifyPhoneResponse {
  success: boolean;    // true ูู ุญุงูุฉ ุงููุฌุงุญ
  message: string;     // ุฑุณุงูุฉ ุงูุชุฃููุฏ
}

// ุงุณุชุฌุงุจุฉ ุญุงูุฉ ุงูุฎุทุฃ
export interface VerifyPhoneErrorResponse {
  statusCode: number;  // ููุฏ ุงูุฎุทุฃ (404 ุฃู 400)
  message: string;     // ุฑุณุงูุฉ ุงูุฎุทุฃ
  error: string;       // ููุน ุงูุฎุทุฃ
}
```

#### **2. Signup Screen (src/screens/SignupScreen.tsx)**
```typescript
const SignupScreen: React.FC<SignupScreenProps> = ({ onBack, onSignupSuccess }) => {
  const [isVerifyingPhone, setIsVerifyingPhone] = useState(false);
  const [phoneVerificationResult, setPhoneVerificationResult] = useState<boolean>(false);

  const handleVerifyPhone = async () => {
    try {
      setIsVerifyingPhone(true);
      
      const verifyData = {
        nationalId: signupData.personalInfo.nationalId,
        phone: signupData.contactInfo.phone,
      };

      const result = await AuthService.verifyPhone(verifyData);
      
      if (result.success) {
        setPhoneVerificationResult(true);
        Alert.alert('ุชู ุงูุชุญูู ุจูุฌุงุญ', result.message);
        setCurrentStep(3);
      } else {
        Alert.alert('ุฎุทุฃ ูู ุงูุชุญูู', result.message);
      }
    } catch (error) {
      // ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
    } finally {
      setIsVerifyingPhone(false);
    }
  };

  const validateContactInfo = (): boolean => {
    const { phone } = signupData.contactInfo;
    
    if (!phone.trim()) {
      Alert.alert('ุฎุทุฃ', 'ูุฑุฌู ุฅุฏุฎุงู ุฑูู ุงููุงุชู');
      return false;
    }
    
    // ุงูุชุญูู ูู ุชูุณูู ุฑูู ุงููุงุชู
    const phoneRegex = /^[0-9+\-\s()]+$/;
    if (!phoneRegex.test(phone)) {
      Alert.alert('ุฎุทุฃ', 'ูุฑุฌู ุฅุฏุฎุงู ุฑูู ูุงุชู ุตุญูุญ');
      return false;
    }
    
    // ุงูุชุญูู ูู ุทูู ุฑูู ุงููุงุชู
    const cleanPhone = phone.replace(/[^0-9]/g, '');
    if (cleanPhone.length < 10 || cleanPhone.length > 15) {
      Alert.alert('ุฎุทุฃ', 'ุฑูู ุงููุงุชู ูุฌุจ ุฃู ูููู ุจูู 10 ู 15 ุฑูู');
      return false;
    }
    
    return true;
  };
};
```

## ๐จ **ุงูุชุตููู ูุงููุงุฌูุฉ**

### **ุงูุฃููุงู ุงููุณุชุฎุฏูุฉ:**
- **Success**: `#10B981` (Emerald) ูุญุงูุฉ ุงูุชุญูู ุงููุงุฌุญ
- **Warning**: `#F59E0B` (Amber) ููุชุญุฐูุฑุงุช
- **Error**: `#EF4444` (Red) ููุฃุฎุทุงุก
- **Primary**: `#6366F1` (Indigo) ููุฃุฒุฑุงุฑ ุงูุฃุณุงุณูุฉ

### **ุงูุฃููููุดู:**
- **Loading State**: ูุคุดุฑ ุชุญููู ุฃุซูุงุก ุงูุชุญูู
- **Success Animation**: ุชุฃุซูุฑ ูุฌุงุญ ุนูุฏ ุงูุชุญูู
- **Error Animation**: ุชุฃุซูุฑ ุฎุทุฃ ุนูุฏ ุงููุดู
- **Smooth Transitions**: ุงูุชูุงูุงุช ุณูุณุฉ ุจูู ุงูุญุงูุงุช

### **ุงูุชุฎุทูุท:**
- **Verification Status**: ูุคุดุฑ ุญุงูุฉ ุงูุชุญูู
- **Dynamic Button Text**: ูุต ุงูุฒุฑ ูุชุบูุฑ ุญุณุจ ุงูุญุงูุฉ
- **Responsive Alerts**: ุฑุณุงุฆู ุชูุงุนููุฉ ุญุณุจ ุงููุชูุฌุฉ
- **Info Box**: ูุตุงุฆุญ ูุฅุฑุดุงุฏุงุช ูููุณุชุฎุฏู

## ๐ **ุชุฏูู ุงูุนูู ุงูุฌุฏูุฏ**

### **1. ุจุฏุก ุฅูุดุงุก ุงูุญุณุงุจ:**
- ูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู โ ุงุถุบุท ุนูู "ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ"
- ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ุฅูุดุงุก ุงูุญุณุงุจ

### **2. ุงูุฎุทูุฉ ุงูุฃููู - ุงูุชุญูู ูู ุงูุจูุงูุงุช:**
- ุฅุฏุฎุงู ุฑูู ุงููููุฉ ุงููุทููุฉ ูุชุงุฑูุฎ ุงููููุงุฏ
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- **ุงูุชุญูู ูู ุงููุธุงู** ุนุจุฑ API
- **ูุนุงูุฌุฉ ุงููุชูุฌุฉ** ูุงููุชุงุจุนุฉ ููุฎุทูุฉ ุงูุชุงููุฉ

### **3. ุงูุฎุทูุฉ ุงูุซุงููุฉ - ุงูุชุญูู ูู ุฑูู ุงููุงุชู:**
- **ุฅุฏุฎุงู ุฑูู ุงููุงุชู** (ูุทููุจ)
- **ุงูุชุญูู ูู ุตุญุฉ ุงูุชูุณูู** ูุญููุงู
- **ุงูุชุญูู ูู ุงููุธุงู** ุนุจุฑ API
- **ูุนุงูุฌุฉ ุงููุชูุฌุฉ**:
  - โ **ูุฌุงุญ ุงูุชุญูู**: ุงููุชุงุจุนุฉ ููุฎุทูุฉ ุงูุชุงููุฉ
  - โ **ูุดู ุงูุชุญูู**: ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ

### **4. ุงูุฎุทูุฉ ุงูุซุงูุซุฉ - ุจูุงูุงุช ููู ุงูุฃูุฑ:**
- ุฅุฏุฎุงู ุจูุงูุงุช ููู ุงูุฃูุฑ
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ุฅูุดุงุก ุงูุญุณุงุจ

### **5. ุฅูุดุงุก ุงูุญุณุงุจ:**
- ุฅุฑุณุงู ุงูุจูุงูุงุช ููุฎุงุฏู
- ุนุฑุถ ุฑุณุงูุฉ ุงููุฌุงุญ
- ุงูุนูุฏุฉ ูุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู

## ๐ **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**

### **ุฃููุงุน ุงูุฃุฎุทุงุก ุงูููุนุงูุฌุฉ:**
1. **404 Not Found** - ุฑูู ุงููุงุชู ุบูุฑ ูุณุฌู ูู ุงููุธุงู
2. **400 Bad Request** - ุฑูู ุงููุงุชู ุบูุฑ ุตุญูุญ
3. **Network Errors** - ุฃุฎุทุงุก ุงูุงุชุตุงู
4. **Server Errors** - ุฃุฎุทุงุก ุงูุฎุงุฏู

### **ุฑุณุงุฆู ุงูุฎุทุฃ:**
- **404**: "ุฑูู ุงููุงุชู ุบูุฑ ูุณุฌู ูู ุงููุธุงู"
- **400**: "ุฑูู ุงููุงุชู ุบูุฑ ุตุญูุญ"
- **Default**: "ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุชุญูู ูู ุฑูู ุงููุงุชู"

### **ุงูุชุญูู ุงููุญูู:**
- **ุญูู ูุงุฑุบ**: "ูุฑุฌู ุฅุฏุฎุงู ุฑูู ุงููุงุชู"
- **ุชูุณูู ุฎุงุทุฆ**: "ูุฑุฌู ุฅุฏุฎุงู ุฑูู ูุงุชู ุตุญูุญ"
- **ุทูู ุบูุฑ ููุงุณุจ**: "ุฑูู ุงููุงุชู ูุฌุจ ุฃู ูููู ุจูู 10 ู 15 ุฑูู"

## ๐ **ุงูุงุณุชุฎุฏุงู**

### **ุงูุชููู:**
1. ูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู โ ุงุถุบุท ุนูู "ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ"
2. ูู ุงูุฎุทูุฉ ุงูุฃููู โ ุฃุฏุฎู ุงูุจูุงูุงุช ูุงุถุบุท "ุงูุชุญูู ูู ุงูุจูุงูุงุช"
3. ูู ุงูุฎุทูุฉ ุงูุซุงููุฉ โ ุฃุฏุฎู ุฑูู ุงููุงุชู ูุงุถุบุท "ุงูุชุญูู ูู ุฑูู ุงููุงุชู"
4. **ุฅุฐุง ูุฌุญ ุงูุชุญูู** โ ุงุถุบุท "ูุชุงุจุนุฉ" ููุฎุทูุฉ ุงูุชุงููุฉ
5. **ุฅุฐุง ูุดู ุงูุชุญูู** โ ุตุญุญ ุฑูู ุงููุงุชู ูุฃุนุฏ ุงููุญุงููุฉ

### **ุงูุชุญูู:**
- **ุงูุชุญูู ุงููุญูู**: ูู ุตุญุฉ ุงูุชูุณูู ูุงูุทูู
- **ุงูุชุญูู ูู ุงููุธุงู**: ุนุจุฑ API endpoint
- **ูุคุดุฑ ุงูุชุญููู**: ุฃุซูุงุก ุงูุชุญูู
- **ุฑุณุงุฆู ูุงุถุญุฉ**: ุญุณุจ ุงููุชูุฌุฉ

## ๐ฎ **ุงูุชุทููุฑ ุงููุณุชูุจูู**

### **ุงูููุฒุงุช ุงููุทููุจุฉ:**
- [ ] **ุฅูุดุงุก ูููุฉ ุงููุฑูุฑ** - ูู ุงูุฎุทูุฉ ุงูุซุงูุซุฉ
- [ ] **ุฑูุน ุงููุซุงุฆู** - ูู ุงูุฎุทูุฉ ุงูุฑุงุจุนุฉ
- [ ] **ุงูุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู** - ุฅุฑุณุงู ุฑุงุจุท ุงูุชุญูู
- [ ] **ุฅุฑุณุงู ุฑูุฒ ุงูุชุญูู** - ุนุจุฑ SMS
- [ ] **ุงูุชุญูู ุงูุจูููุชุฑู** - ุงูุชุญูู ูู ุงูุจุตูุฉ ุฃู ุงููุฌู

### **ุงูุชุญุณููุงุช ุงูููุชุฑุญุฉ:**
- [ ] **Phone Number Formatting** - ุชูุณูู ุชููุงุฆู ูุฑูู ุงููุงุชู
- [ ] **Country Code Selection** - ุงุฎุชูุงุฑ ุฑูุฒ ุงูุฏููุฉ
- [ ] **SMS Verification** - ุฅุฑุณุงู ุฑูุฒ ุงูุชุญูู ุนุจุฑ SMS
- [ ] **Offline Validation** - ุงูุชุญูู ุงููุญูู ููุจูุงูุงุช ุงูุฃุณุงุณูุฉ
- [ ] **Real-time Validation** - ุงูุชุญูู ูู ุงูููุช ุงููุนูู
- [ ] **Phone Number Suggestions** - ุงูุชุฑุงุญุงุช ุฃุฑูุงู ุงููุงุชู

## ๐ฏ **ุงูุฎูุงุตุฉ**

ุชู ุชุญุฏูุซ ุงูุฎุทูุฉ ุงูุซุงููุฉ ุจูุฌุงุญ ูุชุดูู:

โ **ุชูุงูู API ูุงูู** ูุน endpoint ุงูุชุญูู ูู ุฑูู ุงููุงุชู  
โ **ุชุญูู ุชููุงุฆู** ูู ุฑูู ุงููุงุชู ูู ุงูุฎุทูุฉ ุงูุซุงููุฉ  
โ **ูุนุงูุฌุฉ ุฐููุฉ** ููุฃุฎุทุงุก ูุงูุงุณุชุฌุงุจุงุช  
โ **ุฑุณุงุฆู ุชูุงุนููุฉ** ูุงุถุญุฉ ููููุฏุฉ  
โ **ูุงุฌูุฉ ูุญุณูุฉ** ูุน ูุคุดุฑุงุช ุงูุญุงูุฉ  
โ **ูุนุงูุฌุฉ ุฃุฎุทุงุก ุดุงููุฉ** ูุฌููุน ุงูุณููุงุฑูููุงุช  
โ **ุชุญูู ูุญูู** ูู ุตุญุฉ ุงูุชูุณูู  
โ **ุชุฏูู ุนูู ููุทูู** ูููุธู  

ุงููุชูุฌุฉ: ุฎุทูุฉ ุซุงููุฉ ูุชุทูุฑุฉ ูุขููุฉ ูุน ุงูุชุญูู ูู ุฑูู ุงููุงุชู! ๐

## ๐ **ููุงุญุธุงุช ุฅุถุงููุฉ**

### **ุงูุฃูุงู:**
- **ุงูุชุญูู ูู ุฑูู ุงููุงุชู** ูุจู ุงููุชุงุจุนุฉ
- **ููุน ุงูุฃุฑูุงู ุงููุฒููุฉ** ุบูุฑ ุงููุณุฌูุฉ
- **ุชูุณูู ููุญุฏ** ููุฃุฑูุงู

### **ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู:**
- **ุฑุณุงุฆู ูุงุถุญุฉ** ููู ุญุงูุฉ
- **ุชุญูู ููุฑู** ูู ุงูุชูุณูู
- **ูุคุดุฑุงุช ุจุตุฑูุฉ** ููุญุงูุฉ ุงูุญุงููุฉ
- **ุงูุชูุงูุงุช ุณูุณุฉ** ุจูู ุงูุฎุทูุงุช

### **ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
- **ุฑูู ุงููููุฉ ุงููุทููุฉ**: ูู ุงูุฎุทูุฉ ุงูุฃููู
- **ุฑูู ุงููุงุชู**: ูู ุงูุฎุทูุฉ ุงูุซุงููุฉ
- **ุงูุชุญูู**: ูู ุงููุธุงู ุนุจุฑ API
